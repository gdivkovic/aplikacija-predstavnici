<!doctype html>
<html class="fixed">
	<head>

		<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">

		<title>Predstavnici</title>
		<!-- Mobile Metas 
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />-->

		<!-- Web Fonts  -->
		<link href="files/assets/font.css" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="files/assets/vendor/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" href="files/assets/vendor/font-awesome/css/font-awesome.css" />
		<link rel="stylesheet" href="files/assets/vendor/magnific-popup/magnific-popup.css" />
		<link rel="stylesheet" href="files/assets/vendor/bootstrap-datepicker/css/datepicker3.css" />

		<!-- Specific Page Vendor CSS -->
		<link rel="stylesheet" href="files/assets/vendor/select2/select2.css" />
		<link rel="stylesheet" href="files/assets/vendor/jquery-datatables-bs3/assets/css/datatables.css" />


		<!-- Theme CSS -->
		<link rel="stylesheet" href="files/assets/stylesheets/theme.css" />

		<!-- Skin CSS -->
		<link rel="stylesheet" href="files/assets/stylesheets/skins/default.css" />

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href="files/assets/stylesheets/theme-custom.css">

		<!-- Head Libs -->
		<script src="files/assets/vendor/modernizr/modernizr.js"></script>

    <script src="phonegap.js"></script>
	</head>
	<body>
		<section class="body">

			

			<div class="inner-wrapper">
				

				<section role="main" class="content-body">
					<header class="page-header">
						<h2>Prod. predst. app</h2>
					
						<div class="right-wrapper pull-right">
							<a class="sidebar-right-toggle" data-open="sidebar-right"><i class="fa fa-chevron-left"></i></a>
						</div>
					</header>

					<!-- start: page -->
						<div class="row">
							<div class="col-lg-12">
								<section class="panel">
									<header class="panel-heading">
										<div class="panel-actions">
											<a href="#" class="fa fa-caret-down"></a>
										</div>
						
										<h2 class="panel-title">Kontakti</h2>
									</header>
									<div class="panel-body">
									<div>Filteri: <span class="filteri"></span></div>
										<table class="table table-bordered table-striped" id="datatable-ajax" data-url="popis.json">
											<thead>
												<tr>
													<th>Ime i Prezime</th>
													<th>Županija</th>
													<th>Grad</th>
													<th>Adresa</th>
													<th>Ustanova</th>
													<th>Datum zadnje posjete</th>
												</tr>
											</thead>
											<tbody>
											</tbody>
										</table><a href="#" class="redraw">Redraw</a>



									</div>
								</section>
						
							
						
							</div>
						</div>
						
					
				</section>
			</div>

			<aside id="sidebar-right" class="sidebar-right">
				<div class="nano">
					<div class="nano-content">
						<a href="#" class="mobile-close visible-xs">
							Collapse <i class="fa fa-chevron-right"></i>
						</a>
			
						<div class="sidebar-right-wrapper">
			
							<div class="sidebar-widget widget-calendar">
								<h6>Upcoming Tasks</h6>
								<div data-plugin-datepicker data-plugin-skin="dark" ></div>
			
								<ul>
									<li>
										<time datetime="2014-04-19T00:00+00:00">04/19/2014</time>
										<span>Company Meeting</span>
									</li>
								</ul>
							</div>
			
							<!--<div class="sidebar-widget widget-friends">
								<h6>Friends</h6>
								<ul>
									<li class="status-online">
										<figure class="profile-picture">
											<img src="files/assets/images/!sample-user.jpg" alt="Joseph Doe" class="img-circle">
										</figure>
										<div class="profile-info">
											<span class="name">Joseph Doe Junior</span>
											<span class="title">Hey, how are you?</span>
										</div>
									</li>
									<li class="status-online">
										<figure class="profile-picture">
											<img src="files/assets/images/!sample-user.jpg" alt="Joseph Doe" class="img-circle">
										</figure>
										<div class="profile-info">
											<span class="name">Joseph Doe Junior</span>
											<span class="title">Hey, how are you?</span>
										</div>
									</li>
									<li class="status-offline">
										<figure class="profile-picture">
											<img src="files/assets/images/!sample-user.jpg" alt="Joseph Doe" class="img-circle">
										</figure>
										<div class="profile-info">
											<span class="name">Joseph Doe Junior</span>
											<span class="title">Hey, how are you?</span>
										</div>
									</li>
									<li class="status-offline">
										<figure class="profile-picture">
											<img src="files/assets/images/!sample-user.jpg" alt="Joseph Doe" class="img-circle">
										</figure>
										<div class="profile-info">
											<span class="name">Joseph Doe Junior</span>
											<span class="title">Hey, how are you?</span>
										</div>
									</li>
								</ul>
							</div>-->
			
						</div>
					</div>
				</div>
			</aside>
		</section>
		

		<!-- Vendor -->
		<script src="files/assets/vendor/jquery/jquery.js"></script>
		<script src="files/assets/vendor/jquery-browser-mobile/jquery.browser.mobile.js"></script>
		<script src="files/assets/vendor/bootstrap/js/bootstrap.js"></script>
		<script src="files/assets/vendor/nanoscroller/nanoscroller.js"></script>
		<script src="files/assets/vendor/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
		<script src="files/assets/vendor/magnific-popup/magnific-popup.js"></script>
		<script src="files/assets/vendor/jquery-placeholder/jquery.placeholder.js"></script>
		
		<!-- Specific Page Vendor -->
		<script src="files/assets/vendor/jquery-autosize/jquery.autosize.js"></script>
		<script src="files/assets/vendor/bootstrap-fileupload/bootstrap-fileupload.min.js"></script>
		<script src="files/assets/vendor/select2/select2.js"></script>
		<script src="files/assets/vendor/jquery-datatables/media/js/jquery.dataTables.js"></script>
		<script src="files/assets/vendor/jquery-datatables-bs3/files/js/datatables.js"></script>

		
		<!-- Theme Base, Components and Settings -->
		<script src="files/assets/javascripts/theme.js"></script>
		
		<!-- Theme Custom -->
		<script src="files/assets/javascripts/theme.custom.js"></script>
		
		<!-- Theme Initialization Files -->
		<script src="files/assets/javascripts/theme.init.js"></script>

		<!-- Examples -->
		<script>
var jsonPop;

$(document).ready(function () {
    /* prvo učitavanje */
    $.getJSON($('#datatable-ajax').data('url'),
    function (json) {
        for (var i = 0; i < json.aaData.length; i++) {
            json.aaData[i].push('jebimater');
        }
        jsonPop=json;
        kolbekica();
    });

     /* klikanje */
    $('#datatable-ajax').on('click', 'td', function(){
    	alert($(this).parent().children('td:first').html());
    });

    $('.redraw').click(function(){
    	jsonPop.aaData.push(["gurica", "durica", "kragujevačka", "jebaonica", "šupak 13", "ovo ono"]);
    	kolbekica();
    });
});

function kolbekica(){
			var $table = $('#datatable-ajax');
			$table.dataTable().fnDestroy();
			$table.children('th').removeAttr('style');
			$('.filteri').html('');
			$table.dataTable({
				bProcessing: true,
				bDestroy: true,
				aaData: jsonPop.aaData,
				initComplete: function () {
			            this.api().columns().every( function () {
			                var column = this;
			                console.log($(column.footer()));
			                var select = $('<select><option value=""></option></select>')
			                    .appendTo( $('.filteri') ) /*$(column.footer()).empty()*/
			                    .on( 'change', function () {
			                        var val = $.fn.dataTable.util.escapeRegex(
			                            $(this).val()
			                        );
			 
			                        column
			                            .search( val ? '^'+val+'$' : '', true, false )
			                            .draw();
			                    } );
			 
			                column.data().unique().sort().each( function ( d, j ) {
			                    select.append( '<option value="'+d+'">'+d+'</option>' )
			                } );
			            } );
			        }
			});
}


		</script>
		<style>
		th{width:auto !important;}
		</style>


	</body>
</html>